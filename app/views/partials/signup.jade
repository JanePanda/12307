div(ng-include='\'partials/navbar.html\'')

.row
  .col-sm-12
    h1 新用户注册
    
  .col-sm-12
    form.form(name='form', ng-submit='register(form)', novalidate='')
      .form-group(ng-class='{ \'has-success\': form.name.$valid && submitted, \'has-error\': form.name.$invalid && submitted }')
        label 用户名
        input.form-control(type='text', name='name', ng-model='user.name', required='')
        p.help-block(ng-show='form.name.$error.required && submitted')
          | 必填用户名

      .form-group(ng-class='{ \'has-success\': form.email.$valid && submitted, \'has-error\': form.email.$invalid && submitted }')
        label Email
        input.form-control(type='email', name='email', ng-model='user.email', required='', mongoose-error='')
        p.help-block(ng-show='form.email.$error.email && submitted')
          | 好像不是有效email哦
        p.help-block(ng-show='form.email.$error.required && submitted')
          | 你的email是？
        p.help-block(ng-show='form.email.$error.mongoose')
          | {{ errors.email }}

      .form-group(ng-class='{ \'has-success\': form.password.$valid && submitted, \'has-error\': form.password.$invalid && submitted }')
        label Password
        input.form-control(type='password', name='password', ng-model='user.password', ng-minlength='3', required='', mongoose-error='')
        p.help-block(ng-show='(form.password.$error.minlength || form.password.$error.required) && submitted')
          | 密码至少3个字符
        p.help-block(ng-show='form.password.$error.mongoose')
          | {{ errors.password }}

      button.btn.btn-lg.btn-primary(type='submit') 提交
.row
  .col-sm-12
    hr
    | 已经有帐号? 
    a.text-center.new-account(href='/login') 登录